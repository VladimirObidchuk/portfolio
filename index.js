import{A as v,S as m,a as y,i as l}from"./assets/vendor-BNe4waHj.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const e={body:document.body,listLink:document.querySelector(".nav-list"),menuBtn:document.querySelector(".js-menu"),openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),choiceSectionMenu:document.querySelectorAll(".burger-nav-link"),orderBtnLink:document.querySelector(".burger-btn-link"),modal:document.querySelector("[data-modal]"),firstAccItem:document.getElementById("ac-0"),reviewContainer:document.querySelector(".review-container"),form:document.getElementById("work-contactform"),emailInput:document.getElementById("email"),modalBackdrop:document.getElementById("modalBackdrop"),modalCloseBtn:document.getElementById("modalCloseBtn"),comment:document.getElementById("comment"),emailMsg:document.getElementById("email-message"),commentMsg:document.getElementById("comment-message")};function E(){new v(".faq-accordion",{duration:400,collapse:!0,showMultiple:!1})}function h(){new v(".js-accordion",{duration:300,showMultiple:!1,onOpen:s=>{const o=s.querySelector(".ac-trigger");o&&o.classList.add("rotate-180")},onClose:s=>{const o=s.querySelector(".ac-trigger");o&&o.classList.remove("rotate-180")}}).open(0),new m(".about-swiper",{loop:!0,spaceBetween:0,centeredSlides:!1,navigation:{nextEl:".about-swiper-btn"},keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:!0,breakpoints:{1440:{slidesPerView:6},768:{slidesPerView:3,spaceBetween:1},375:{slidesPerView:2},0:{slidesPerView:1,spaceBetween:1}}})}e.orderBtnLink.addEventListener("click",a);e.openModalBtn.addEventListener("click",a);e.closeModalBtn.addEventListener("click",a);e.choiceSectionMenu.forEach(t=>{t.addEventListener("click",a)});function a(){e.modal.classList.toggle("is-open"),e.body.classList.toggle("no-scroll"),e.modal.classList.contains("is-open")?document.addEventListener("keydown",d):document.removeEventListener("keydown",d)}function d(t){t.key==="Escape"&&(e.modal.classList.remove("is-open"),document.removeEventListener("keydown",d))}e.menuBtn.addEventListener("click",b);e.listLink.addEventListener("click",k);function b(){e.listLink.classList.toggle("hidden")}function k(){e.listLink.classList.add("hidden")}function B(){new m(".project-swiper",{loop:!1,centeredSlides:!0,slidesPerView:1,slidesPerGroup:1,autoHeight:!0,mousewheel:!0,keyboard:{enabled:!0,onlyInViewport:!0},simulateTouch:!0,navigation:{nextEl:".custom-next",prevEl:".custom-prev"}})}const w=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;function u(){e.modalBackdrop.classList.add("hidden"),document.body.style.overflow="",e.emailInput.removeEventListener("input",g),e.comment.removeEventListener("input",f),document.removeEventListener("keydown",I),console.log("Email input event listener remove")}function I(t){t.key==="Escape"&&u()}e.modalCloseBtn.addEventListener("click",u);e.modalBackdrop.addEventListener("click",t=>{t.target===e.modalBackdrop&&u()});function g(){const t=e.emailInput.value.trim(),s=document.getElementById("email-message");s.classList.remove("success-message","error-message"),e.emailInput.classList.remove("valid-input","invalid-input"),w.test(t)?(s.textContent="Success!",s.classList.add("success-message"),e.emailInput.classList.add("valid-input"),e.emailInput.classList.remove("invalid-input")):(s.textContent="Invalid email, try again",s.classList.add("error-message"),e.emailInput.classList.add("invalid-input"),e.emailInput.classList.remove("valid-input"))}function f(){const t=e.comment.value.trim(),s=document.getElementById("comment-message");s.classList.remove("success-message","error-message"),e.comment.classList.remove("valid-input","invalid-input"),t===""?(s.textContent="Comment cannot be empty",s.classList.add("error-message"),e.comment.classList.add("invalid-input"),e.comment.classList.remove("valid-input")):(s.textContent="Success!",s.classList.add("success-message"),e.comment.classList.add("valid-input"),e.comment.classList.remove("invalid-input"))}e.emailInput.addEventListener("input",g);e.comment.addEventListener("input",f);function C(){const t=e.emailInput.value.trim(),s=e.comment.value.trim(),o=e.emailMsg,i=e.commentMsg;o.textContent="",i.textContent="",o.className="input-message",i.className="input-message",e.emailInput.classList.remove("valid-input","invalid-input"),e.comment.classList.remove("valid-input","invalid-input");let n=!1;return w.test(t)?(o.textContent="Success!",o.classList.add("success-message"),e.emailInput.classList.add("valid-input")):(o.textContent="Invalid email, try again",o.classList.add("error-message"),e.emailInput.classList.add("invalid-input"),n=!0),s===""?(i.textContent="Comment cannot be empty",i.classList.add("error-message"),e.comment.classList.add("invalid-input"),n=!0):(i.textContent="Success!",i.classList.add("success-message"),e.comment.classList.add("valid-input")),n?null:{email:t,comment:s}}const L=y.create({baseURL:"https://portfolio-js.b.goit.study/api"});async function M(){try{return(await L.get("/reviews")).data}catch(t){throw console.error("Error:",t.status),t}}async function S(t){try{return(await L.post("/requests",{email:t.email,comment:t.comment})).data}catch(s){throw new Error(s)}}const p="/portfolio/assets/icon-B3VCufUv.svg",x=()=>'<p class="not-found-alert"> No information found</p>',P=t=>`<div class="swiper swiper-review">
      <ul class="swiper-wrapper swiper-wrapper-review">${t.map(i=>`<li class="swiper-slide swiper-slide-review">
          <img class="review-img" src="${i.avatar_url}" alt="">
          <h4 class="review-author">${i.author}</h4>
          <p class="review-text">${i.review}</p>
        </li>`).join("")}</ul>
    <ul class="buttons-div">
      <li class="swiper-button-prev swiper-button-prev-review">
        <svg class="review-icon">
        <use href="${p}#icon-arrow-narrow-left"></use>
      </svg>
    </li>
      <li class="swiper-button-next swiper-button-next-review">
        <svg class="review-icon">
        <use href="${p}#icon-arrow-narrow-right"></use>
      </svg>
    </li>
    </ul><style>
#review .swiper-button-prev:after, .swiper-button-next:after {
  content: none;
}
</style>`;M().then(t=>{e.reviewContainer.insertAdjacentHTML("beforeend",P(t)),new m(".swiper-review",{spaceBetween:16,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},mousewheel:!0,keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{1440:{slidesPerView:4},768:{slidesPerView:2},0:{slidesPerView:1}}})}).catch(t=>{e.reviewContainer.insertAdjacentHTML("beforeend",x());const s=function(){const o=e.reviewContainer.getBoundingClientRect();if(!e.reviewContainer){console.error("reviewContainer не знайдено");return}o.top>=0&&o.top<=window.innerHeight&&(console.log("Error:",t.message),l.error({position:"bottomRight",timeout:4e3,title:"Error",message:`${t.message}`}),window.removeEventListener("scroll",s))};window.addEventListener("scroll",s)});async function q(t){t.preventDefault();const s=C();if(!s)return;const{email:o,comment:i}=s;try{const r=await S({email:o,comment:i});l.success({position:"bottomRight",timeout:3e3,title:"Success",message:"Review sent successfully!"}),e.form.reset()}catch(n){l.error({position:"bottomRight",timeout:4e3,title:"Error",message:`${n.message}`})}}e.form.addEventListener("submit",q);h();B();E();
//# sourceMappingURL=index.js.map
