import{A as m,S as d,N as p,K as f,a as w}from"./assets/vendor-CJCjINDu.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const o={menuBtn:document.querySelector(".js-menu"),listLink:document.querySelector(".nav-list"),menuBtn:document.querySelector(".js-menu"),openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),choiceSectionMenu:document.querySelectorAll(".burger-nav-link"),orderBtnLink:document.querySelector(".burger-btn-link"),modal:document.querySelector("[data-modal]"),reviewContainer:document.querySelector(".review-wrapper"),form:document.getElementById("work-contactform"),emailInput:document.getElementById("email"),modalBackdrop:document.getElementById("modalBackdrop"),modalCloseBtn:document.getElementById("modalCloseBtn"),comment:document.getElementById("comment")};function y(){new m(".accordion-container",{duration:400,collapse:!0,showMultiple:!1});const e=Array.from(document.querySelectorAll('[id^="ac-trigger-"]::after'));console.log(" elements",e),e.forEach(t=>{t.style,console.log(" el.style",t.style)})}function v(){new m(".js-accordion",{duration:300,showMultiple:!1,onOpen:t=>{const r=t.querySelector(".ac-trigger");r&&r.classList.add("rotate-180")},onClose:t=>{const r=t.querySelector(".ac-trigger");r&&r.classList.remove("rotate-180")}});const e=new d(".swiper",{direction:"horizontal",loop:!0,spaceBetween:0,navigation:{nextEl:".swiper-button-next"},keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:!0,a11y:{enabled:!0},breakpoints:{0:{slidesPerView:1},375:{slidesPerView:2},768:{slidesPerView:3},1440:{slidesPerView:6}}});document.querySelector(".swiper-button-next").addEventListener("click",function(){e.slideNext()})}o.choiceSectionMenu.forEach(e=>{e.addEventListener("click",l)});o.orderBtnLink.addEventListener("click",l);o.openModalBtn.addEventListener("click",l);o.closeModalBtn.addEventListener("click",l);function l(){o.modal.classList.toggle("is-open"),o.modal.classList.contains("is-open")?document.addEventListener("keydown",a):document.removeEventListener("keydown",a)}function a(e){e.key==="Escape"&&(o.modal.classList.remove("is-open"),document.removeEventListener("keydown",a))}o.menuBtn.addEventListener("click",g);o.listLink.addEventListener("click",h);function g(){o.listLink.classList.toggle("hidden")}function h(){o.listLink.classList.add("hidden")}new d(".project-swiper",{modules:[p,f],loop:!1,centeredSlides:!0,slidesPerView:1,spaceBetween:10,keyboard:{enabled:!0,onlyInViewport:!1},simulateTouch:!0,navigation:{nextEl:".custom-next",prevEl:".custom-prev"}});const L=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;function E(){o.modalBackdrop.classList.remove("hidden"),document.body.style.overflow="hidden"}function u(){o.modalBackdrop.classList.add("hidden"),document.body.style.overflow=""}o.modalCloseBtn.addEventListener("click",u);o.modalBackdrop.addEventListener("click",e=>{e.target===o.modalBackdrop&&u()});document.addEventListener("keydown",e=>{e.key==="Escape"&&u()});o.form.addEventListener("submit",async e=>{e.preventDefault();const t=o.emailInput.value.trim();console.log(" email",t);const r=o.comment.value.trim();if(console.log(" comment",r),!L.test(t)){alert("Invalid email, try again");return}try{if(!(await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,comment:r})})).ok)throw new Error("Failed request");E(),o.form.reset()}catch{alert("Something went wrong. Please check your info and try again.")}});const k=w.create({baseURL:"https://portfolio-js.b.goit.study/api"});async function b(){try{return(await k.get("/reviews")).data}catch(e){throw console.error("Error:",e.status),e}}const B=()=>{reviewContainer.insertAdjacentHTML("beforeend",'<p class="not-found-alert"> No information found</p>')},S=e=>e.map(t=>`<li class="swiper-slide swiper-slide-review">
          <img class="review-img" src="${t.avatar_url}" alt="">
          <h4 class="review-author">${t.author}</h4>
          <p class="review-text">${t.review}</p>
        </li>`).join("");b().then(e=>{o.reviewContainer.insertAdjacentHTML("beforeend",S(e)),console.log(e),new d(".review-swiper",{spaceBetween:16,autoHeight:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1440:{slidesPerView:4},768:{slidesPerView:2},0:{slidesPerView:1}}})}).catch(e=>{B();const t=function(){const r=reviewContainer.getBoundingClientRect();r.top>=0&&r.top<=window.innerHeight&&(console.log("Error:",e.message),window.removeEventListener("scroll",t))};window.addEventListener("scroll",t)});v();y();
//# sourceMappingURL=index.js.map
